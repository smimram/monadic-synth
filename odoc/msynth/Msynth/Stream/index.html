<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stream (msynth.Msynth.Stream)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">msynth</a> &#x00BB; <a href="../index.html">Msynth</a> &#x00BB; Stream</nav><header class="odoc-preamble"><h1>Module <code><span>Msynth.Stream</span></code></h1><p>Streams.</p></header><nav class="odoc-toc"><ul><li><a href="#the-stream-monad">The stream monad</a></li><li><a href="#pure-operations">Pure operations</a></li><li><a href="#arithmetic">Arithmetic</a></li><li><a href="#time">Time</a></li><li><a href="#control">Control</a></li><li><a href="#oscillators">Oscillators</a></li><li><a href="#envelopes">Envelopes</a></li><li><a href="#effects">Effects</a></li><li><a href="#analysis">Analysis</a></li><li><a href="#stereo-streams">Stereo streams</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-sample"><a href="#type-sample" class="anchor"></a><code><span><span class="keyword">type</span> sample</span><span> = float</span></code></div><div class="spec-doc"><p>Type for samples.</p></div></div><h3 id="the-stream-monad"><a href="#the-stream-monad" class="anchor"></a>The stream monad</h3><div class="odoc-spec"><div class="spec type anchored" id="type-dt"><a href="#type-dt" class="anchor"></a><code><span><span class="keyword">type</span> dt</span><span> = float</span></code></div><div class="spec-doc"><p>Type for time differences.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span><a href="#type-dt">dt</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>The stream monad.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-stream"><a href="#type-stream" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a stream</span></span><span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Alias for the stream monad.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Bind operation of the stream monad.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-apply"><a href="#val-apply" class="anchor"></a><code><span><span class="keyword">val</span> apply : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The stream monad is applicative.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind2"><a href="#val-bind2" class="anchor"></a><code><span><span class="keyword">val</span> bind2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'e</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Bind two arguments.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind3"><a href="#val-bind3" class="anchor"></a><code><span><span class="keyword">val</span> bind3 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'e</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'f</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'g</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Bind three arguments.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind4"><a href="#val-bind4" class="anchor"></a><code><span><span class="keyword">val</span> bind4 : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'e</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'f</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'g</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'h</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'d</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'i</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Bind four arguments.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind1_2"><a href="#val-bind1_2" class="anchor"></a><code><span><span class="keyword">val</span> bind1_2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'e</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Bind the first of two arguments.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind_list"><a href="#val-bind_list" class="anchor"></a><code><span><span class="keyword">val</span> bind_list : <span><span>(<span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'c</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Bind a function taking a list of arguments.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-funct"><a href="#val-funct" class="anchor"></a><code><span><span class="keyword">val</span> funct : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Functoriality of the stream monad.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-funct2"><a href="#val-funct2" class="anchor"></a><code><span><span class="keyword">val</span> funct2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Functoriality in two arguments of the stream monad.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prod"><a href="#val-prod" class="anchor"></a><code><span><span class="keyword">val</span> prod : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Strength of the stream monad.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dt"><a href="#val-dt" class="anchor"></a><code><span><span class="keyword">val</span> dt : <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Current infinitesimal variation of a stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Current value of a stream (this function might be removed in the future).</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Operations"><a href="#module-Operations" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Operations/index.html">Operations</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Notations for usual operations of the stream monad. You usually want to open this module when dealing with streams.</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="Operations/index.html">Operations</a> <span class="keyword">end</span></span></code></summary><p>Notations for usual operations of the stream monad. You usually want to open this module when dealing with streams.</p><div class="odoc-spec"><div class="spec value anchored" id="val-return"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Return.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Bind.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;&gt;)"><a href="#val-(&gt;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;) : <span><span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Bind with unit result.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;$&gt;)"><a href="#val-(&lt;$&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;$&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Functoriality.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;*&gt;)"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Applicativity.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-let*"><a href="#val-let*" class="anchor"></a><code><span><span class="keyword">val</span> let* : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Bind.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-and*"><a href="#val-and*" class="anchor"></a><code><span><span class="keyword">val</span> and* : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Strength.</p></div></div></details></div><h3 id="pure-operations"><a href="#pure-operations" class="anchor"></a>Pure operations</h3><div class="odoc-spec"><div class="spec value anchored" id="val-drop"><a href="#val-drop" class="anchor"></a><code><span><span class="keyword">val</span> drop : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Forget the result of the stream (this is <code>ignore</code> for streams).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Map a function on every sample of a stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Iterate a function on every sample of a stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-seq"><a href="#val-seq" class="anchor"></a><code><span><span class="keyword">val</span> seq : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Create a stream from a function indicating its value at each call.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prev"><a href="#val-prev" class="anchor"></a><code><span><span class="keyword">val</span> prev : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a0</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a1</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Value of the stream at previous instant.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-initialize"><a href="#val-initialize" class="anchor"></a><code><span><span class="keyword">val</span> initialize : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Set the first values of a stream. This is useful to allocate the buffers in operators which have some.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dup"><a href="#val-dup" class="anchor"></a><code><span><span class="keyword">val</span> dup : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span> * <span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span></span></code></div><div class="spec-doc"><p>Stream duplication. Once the left part has been evaluated, the right part can be used as many times as wanted. This has to be used if you need to use a stream more than once, in order to avoid each copy asking for a different sample.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stream_ref"><a href="#val-stream_ref" class="anchor"></a><code><span><span class="keyword">val</span> stream_ref : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Stream the current value of a reference.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iterative"><a href="#val-iterative" class="anchor"></a><code><span><span class="keyword">val</span> iterative : <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Generate a stream according to dt and previous value.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-StreamList"><a href="#module-StreamList" class="anchor"></a><code><span><span class="keyword">module</span> <a href="StreamList/index.html">StreamList</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Operations on lists of streams.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Event"><a href="#module-Event" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Event/index.html">Event</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Event hubs. On those, handlers can be registered and will be called each time a new event is emitted.</p></div></div><h3 id="arithmetic"><a href="#arithmetic" class="anchor"></a>Arithmetic</h3><div class="odoc-spec"><div class="spec value anchored" id="val-cst"><a href="#val-cst" class="anchor"></a><code><span><span class="keyword">val</span> cst : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Create a constant stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-blank"><a href="#val-blank" class="anchor"></a><code><span><span class="keyword">val</span> blank : <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The constantly zero stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bmul"><a href="#val-bmul" class="anchor"></a><code><span><span class="keyword">val</span> bmul : <span>bool <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Multiply a stream by a boolean (interpreted as 0 / 1 for false / true).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scmul"><a href="#val-scmul" class="anchor"></a><code><span><span class="keyword">val</span> scmul : <span>float <span class="arrow">&#45;&gt;</span></span> <span><span>float <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Switched multiplication by a constant: if the first is 0, the second stream is not evaluated.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-smulc"><a href="#val-smulc" class="anchor"></a><code><span><span class="keyword">val</span> smulc : <span><span>float <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mul"><a href="#val-mul" class="anchor"></a><code><span><span class="keyword">val</span> mul : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Multiply two streams.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-amp"><a href="#val-amp" class="anchor"></a><code><span><span class="keyword">val</span> amp : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Amplify a stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Add two streams.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mix"><a href="#val-mix" class="anchor"></a><code><span><span class="keyword">val</span> mix : <span><span>float list</span> <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Add a list of streams.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><span>float <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>float <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Subtract streams.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clip"><a href="#val-clip" class="anchor"></a><code><span><span class="keyword">val</span> clip : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Clip a stream in the interval <code>-1., 1.</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-soft_clip"><a href="#val-soft_clip" class="anchor"></a><code><span><span class="keyword">val</span> soft_clip : <span>float <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Softer (and more distorted) version of the <code>clip</code> function.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-octaves"><a href="#val-octaves" class="anchor"></a><code><span><span class="keyword">val</span> octaves : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Convert octave numbers to multiplicative coefficient for frequency.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-samples"><a href="#val-samples" class="anchor"></a><code><span><span class="keyword">val</span> samples : <span>float <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Number of samples in a given amount of time.</p></div></div><h3 id="time"><a href="#time" class="anchor"></a>Time</h3><div class="odoc-spec"><div class="spec value anchored" id="val-integrate"><a href="#val-integrate" class="anchor"></a><code><span><span class="keyword">val</span> integrate : 
  <span>?kind:<span>[&lt; `Euler <span>| `Trapezoidal</span> Euler ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?event:<span><span>[&lt; `Reset <span><span>| `Set</span> of float</span> ]</span> <a href="Event/index.html#type-t">Event.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?on_reset:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?init:float <span class="arrow">&#45;&gt;</span></span>
  <span>?periodic:bool <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Integrate a stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-now"><a href="#val-now" class="anchor"></a><code><span><span class="keyword">val</span> now : <span>?event:<span><span>[&lt; `Reset <span><span>| `Set</span> of <a href="#type-sample">sample</a></span> ]</span> <a href="Event/index.html#type-t">Event.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Current time.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-periodic"><a href="#val-periodic" class="anchor"></a><code><span><span class="keyword">val</span> periodic : 
  <span>?init:float <span class="arrow">&#45;&gt;</span></span>
  <span>?on_reset:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Current time for a periodic function.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-timed"><a href="#val-timed" class="anchor"></a><code><span><span class="keyword">val</span> timed : <span>?tempo:float <span class="arrow">&#45;&gt;</span></span> <span>?loop:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span>(float * <span class="type-var">'a</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Create a stream from timed events, supposed to be sorted. If tempo is not specified, time is assumed in seconds (otherwise, in notes).</p></div></div><h3 id="control"><a href="#control" class="anchor"></a>Control</h3><div class="odoc-spec"><div class="spec value anchored" id="val-activates"><a href="#val-activates" class="anchor"></a><code><span><span class="keyword">val</span> activates : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>When a stream becomes true.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-changes"><a href="#val-changes" class="anchor"></a><code><span><span class="keyword">val</span> changes : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>When a stream changes value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-zc"><a href="#val-zc" class="anchor"></a><code><span><span class="keyword">val</span> zc : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>float <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Zero-crossing: is true when the stream was negative and becomes positive.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-at"><a href="#val-at" class="anchor"></a><code><span><span class="keyword">val</span> at : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Check whether we are at a particular instant.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-after"><a href="#val-after" class="anchor"></a><code><span><span class="keyword">val</span> after : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Check whether we are after a particular instant.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-frequently"><a href="#val-frequently" class="anchor"></a><code><span><span class="keyword">val</span> frequently : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Generate an event at a given frequency.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-every"><a href="#val-every" class="anchor"></a><code><span><span class="keyword">val</span> every : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Generate an event every period of time.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_first"><a href="#val-is_first" class="anchor"></a><code><span><span class="keyword">val</span> is_first : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Whether this is the first sample of the stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on"><a href="#val-on" class="anchor"></a><code><span><span class="keyword">val</span> on : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Execute an action when a stream is true.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sample_and_hold"><a href="#val-sample_and_hold" class="anchor"></a><code><span><span class="keyword">val</span> sample_and_hold : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Sample when a condition is true and hold the sample the rest of the time.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-resample"><a href="#val-resample" class="anchor"></a><code><span><span class="keyword">val</span> resample : <span>?mode:<span>[&gt; `Last ]</span> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Resample a source from given sampling rate to master sampling rate. The <code>mode</code> parameter controls the resampling method: <code>`Last</code> means take the last available value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_change"><a href="#val-on_change" class="anchor"></a><code><span><span class="keyword">val</span> on_change : <span>?first:bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Execute a function when a stream change its value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-switch"><a href="#val-switch" class="anchor"></a><code><span><span class="keyword">val</span> switch : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span></span></code></div><div class="spec-doc"><p>Switch between two streams depending on a boolean.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-random"><a href="#val-random" class="anchor"></a><code><span><span class="keyword">val</span> random : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>?min:float <span class="arrow">&#45;&gt;</span></span> <span>?max:float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Generate a random value at given frequency.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Sample"><a href="#module-Sample" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Sample/index.html">Sample</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Operations with samples as unit time.</p></div></div><h3 id="oscillators"><a href="#oscillators" class="anchor"></a>Oscillators</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Osc"><a href="#module-Osc" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Osc/index.html">Osc</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Oscillators.</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="Osc/index.html">Osc</a> <span class="keyword">end</span></span></code></summary><p>Oscillators.</p><div class="odoc-spec"><div class="spec value anchored" id="val-saw"><a href="#val-saw" class="anchor"></a><code><span><span class="keyword">val</span> saw : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-triangle"><a href="#val-triangle" class="anchor"></a><code><span><span class="keyword">val</span> triangle : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sine"><a href="#val-sine" class="anchor"></a><code><span><span class="keyword">val</span> sine : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sine_tabulated"><a href="#val-sine_tabulated" class="anchor"></a><code><span><span class="keyword">val</span> sine_tabulated : <span>?freq:float <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-square"><a href="#val-square" class="anchor"></a><code><span><span class="keyword">val</span> square : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>?width:float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-noise"><a href="#val-noise" class="anchor"></a><code><span><span class="keyword">val</span> noise : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-osc"><a href="#val-osc" class="anchor"></a><code><span><span class="keyword">val</span> osc : 
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>?width:float <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&lt; `Noise <span>| `Saw</span> <span>| `Sine</span> <span>| `Square</span> <span>| `Triangle</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Generic oscillator.</p></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-sampler"><a href="#val-sampler" class="anchor"></a><code><span><span class="keyword">val</span> sampler : 
  <span>?interpolation:<span>[ `Closest ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?freq:float <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Play a sample stored in a buffer at various speeds.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Spectral"><a href="#module-Spectral" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Spectral/index.html">Spectral</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fm"><a href="#val-fm" class="anchor"></a><code><span><span class="keyword">val</span> fm : 
  <span>?carrier:<span>[&lt; `Noise <span>| `Saw</span> <span>| `Sine</span> <span>| `Square</span> <span>| `Triangle</span> Sine ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?modulator:<span>[&lt; `Noise <span>| `Saw</span> <span>| `Sine</span> <span>| `Square</span> <span>| `Triangle</span> Sine ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>?ratio:float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Frequency modulation synthesis.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-random_zero"><a href="#val-random_zero" class="anchor"></a><code><span><span class="keyword">val</span> random_zero : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>?attraction:float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-karplus_strong"><a href="#val-karplus_strong" class="anchor"></a><code><span><span class="keyword">val</span> karplus_strong : <span>?filter:<span>(<span><a href="#type-sample">sample</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <a href="#type-t">t</a></span></span></code></div></div><h3 id="envelopes"><a href="#envelopes" class="anchor"></a>Envelopes</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Envelope"><a href="#module-Envelope" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Envelope/index.html">Envelope</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-adsr"><a href="#val-adsr" class="anchor"></a><code><span><span class="keyword">val</span> adsr : 
  <span>?event:<span><span>[&lt; `Release <span>| `Reset</span> ]</span> <a href="Event/index.html#type-t">Event.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?on_die:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>?a:float <span class="arrow">&#45;&gt;</span></span>
  <span>?d:float <span class="arrow">&#45;&gt;</span></span>
  <span>?s:float <span class="arrow">&#45;&gt;</span></span>
  <span>?r:float <span class="arrow">&#45;&gt;</span></span>
  <span>?sustain:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?release:<span>[&lt; `Exponential <span>| `Linear</span> Linear ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-smooth"><a href="#val-smooth" class="anchor"></a><code><span><span class="keyword">val</span> smooth : 
  <span>?init:float <span class="arrow">&#45;&gt;</span></span>
  <span>?kind:<span>[&lt; `Exponential <span>| `Linear</span> Exponential ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Smoothen the stream. This is useful to avoid big jumps in controllers. The parmeter is roughly the time taken to reach the desired value.</p></div></div><h3 id="effects"><a href="#effects" class="anchor"></a>Effects</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Filter"><a href="#module-Filter" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Filter/index.html">Filter</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Filters.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Ringbuffer"><a href="#module-Ringbuffer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Ringbuffer/index.html">Ringbuffer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delay"><a href="#val-delay" class="anchor"></a><code><span><span class="keyword">val</span> delay : 
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>?dry:float <span class="arrow">&#45;&gt;</span></span>
  <span>?wet:float <span class="arrow">&#45;&gt;</span></span>
  <span>?feedback:float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Delay effect on the stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-comb"><a href="#val-comb" class="anchor"></a><code><span><span class="keyword">val</span> comb : 
  <span>?kind:<span>[&lt; `Feedback <span>| `Feedforward</span> Feedback ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-sample">sample</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-sample">sample</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>A <a href="https://en.wikipedia.org/wiki/Comb_filter">comb filter</a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-schroeder_allpass"><a href="#val-schroeder_allpass" class="anchor"></a><code><span><span class="keyword">val</span> schroeder_allpass : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-sample">sample</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <a href="#type-t">t</a></span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>A <a href="https://ccrma.stanford.edu/~jos/Delay/Schroeder_Allpass_Filters.html">Schroeder allpass filter</a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-simple_delay"><a href="#val-simple_delay" class="anchor"></a><code><span><span class="keyword">val</span> simple_delay : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>A simple delay with no dry or feedback.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-agc"><a href="#val-agc" class="anchor"></a><code><span><span class="keyword">val</span> agc : 
  <span>?period:float <span class="arrow">&#45;&gt;</span></span>
  <span>?up:float <span class="arrow">&#45;&gt;</span></span>
  <span>?down:float <span class="arrow">&#45;&gt;</span></span>
  <span>?blank:float <span class="arrow">&#45;&gt;</span></span>
  <span>?target:float <span class="arrow">&#45;&gt;</span></span>
  <span>?clipping:bool <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Auto gain control.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Slicer"><a href="#module-Slicer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Slicer/index.html">Slicer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Slicers: those regularly mute the stream according to various patterns.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-chorus"><a href="#val-chorus" class="anchor"></a><code><span><span class="keyword">val</span> chorus : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>?wet:float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Chorus effect.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-flanger"><a href="#val-flanger" class="anchor"></a><code><span><span class="keyword">val</span> flanger : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>?wet:float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sample">sample</a> <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Flanger effect.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Distortion"><a href="#module-Distortion" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Distortion/index.html">Distortion</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Distortion effects.</p></div></div><h3 id="analysis"><a href="#analysis" class="anchor"></a>Analysis</h3><div class="odoc-spec"><div class="spec value anchored" id="val-print"><a href="#val-print" class="anchor"></a><code><span><span class="keyword">val</span> print : <span>?first:bool <span class="arrow">&#45;&gt;</span></span> <span>?changes:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Print value of stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-blink_tempo"><a href="#val-blink_tempo" class="anchor"></a><code><span><span class="keyword">val</span> blink_tempo : 
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?duration:float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Blink a led on tempo.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ms"><a href="#val-ms" class="anchor"></a><code><span><span class="keyword">val</span> ms : <span>float <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Power (mean square) of a stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_blank"><a href="#val-is_blank" class="anchor"></a><code><span><span class="keyword">val</span> is_blank : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Is a stream blank?</p></div></div><h3 id="stereo-streams"><a href="#stereo-streams" class="anchor"></a>Stereo streams</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Stereo"><a href="#module-Stereo" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Stereo/index.html">Stereo</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Operations on stereo streams.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stereo"><a href="#val-stereo" class="anchor"></a><code><span><span class="keyword">val</span> stereo : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="Stereo/index.html#type-t">Stereo.t</a></span></span></code></div><div class="spec-doc"><p>Duplicate a mono stream to become a stereo stream.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-B"><a href="#module-B" class="anchor"></a><code><span><span class="keyword">module</span> <a href="B/index.html">B</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Binded functions: those operate on streams instead of samples.</p></div></div></div></body></html>